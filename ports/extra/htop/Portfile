# Description: Interactive process viewer
# URL: https://htop.dev
# Depends: ncurses

name=htop
version=3.4.1
source=https://github.com/htop-dev/htop/releases/download/$version/htop-$version.tar.xz

build() {
    cd $name-$version
    ./configure --host=$CROSS --prefix=/usr --disable-unicode --enable-static \
        CFLAGS="-Os -I$SYSROOT/usr/include -I$SYSROOT/usr/include/ncursesw" \
        LDFLAGS="-static -L$SYSROOT/usr/lib" \
        HTOP_NCURSESW_CFLAGS="-I$SYSROOT/usr/include/ncursesw" \
        HTOP_NCURSESW_LIBS="-L$SYSROOT/usr/lib -lncursesw"
    make -j$(nproc)
    make DESTDIR=$PKG install-strip
}
