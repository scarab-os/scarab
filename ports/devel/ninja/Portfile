# Description: Small build system with focus on speed
# URL: https://ninja-build.org
# Depends:

name=ninja
version=1.13.2
source=https://github.com/ninja-build/ninja/archive/refs/tags/v$version.tar.gz

build() {
    cd $name-$version
    cmake -B build \
        -DCMAKE_C_COMPILER=$CC \
        -DCMAKE_CXX_COMPILER=$CXX \
        -DCMAKE_SYSTEM_NAME=Linux \
        -DCMAKE_INSTALL_PREFIX=/usr \
        -DCMAKE_BUILD_TYPE=Release \
        -DCMAKE_EXE_LINKER_FLAGS="-static"
    cmake --build build -j$(nproc)
    mkdir -p $PKG/usr/bin
    cp build/ninja $PKG/usr/bin/ninja
}
